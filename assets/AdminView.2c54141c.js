import{_ as c,d as u,u as l,r as d,o,c as n,a as s,t as i,F as m,f as _,w as v,v as p,g as h,h as w,e as f}from"./index.40615814.js";const j=u({data(){return{dataStore:l(),newProjectName:""}},computed:{user(){return this.dataStore.$state.user},projectsNotArchive(){return Object.values(this.dataStore.$state.user.listOfProjects).filter(t=>t.content.status!=="archive")}},methods:{changeProjectContentStatus(t,a){t.content.status=a},async addCalculation(){const t=await this.dataStore.user.createNewProject(this.dataStore.CCCData,this.newProjectName);t.success&&await this.$router.push({name:"admin.project",params:{userID:this.user.userID,projectSlug:t.slugOfNewProject}})},focusToInput(){this.$refs.nameNewDocumentInput instanceof HTMLInputElement&&this.$refs.nameNewDocumentInput.focus()}}}),g={class:"v-admin-view ccc-with-gutter"},C={class:"ccc-with-gutter"},N={class:"v-admin-view__projects"},S={class:"v-admin-view__projects__item ccc-with-gutter"},b={class:"v-admin-view__projects__item__slug"},D=["onClick"],I=s("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button"},"publier",-1),P=s("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button"},"notes projet",-1),$=f("modifier ->"),k=s("div",null,"Nouveau Calcul",-1);function y(t,a,T,V,A,B){const r=d("router-link");return o(),n("div",g,[s("h1",C,"Mon espace: "+i(t.dataStore.user.username),1),s("div",N,[(o(!0),n(m,null,_(t.projectsNotArchive,e=>(o(),n("div",S,[s("div",b,i(e.slug),1),s("div",null,[s("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button",onClick:M=>t.changeProjectContentStatus(e,"archive")},"archiver",8,D),I,P,h(r,{class:"ccc-ui-button--small v-admin-view__projects__item__button",to:{name:"admin.project",params:{userID:t.user.userID,projectSlug:e.slug}}},{default:w(()=>[$]),_:2},1032,["to"])])]))),256)),s("form",{class:"v-admin-view__add-calculation",onClick:a[2]||(a[2]=(...e)=>t.focusToInput&&t.focusToInput(...e)),onSubmit:a[3]||(a[3]=(...e)=>t.addCalculation&&t.addCalculation(...e))},[s("div",{class:"ccc-ui-circle",onClick:a[0]||(a[0]=(...e)=>t.addCalculation&&t.addCalculation(...e))},"+"),k,v(s("input",{ref:"nameNewDocumentInput",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>t.newProjectName=e)},null,512),[[p,t.newProjectName]])],32)])])}var E=c(j,[["render",y]]);export{E as default};
