import{d as m,u as _,_ as p,r as v,o as a,c as n,a as o,t as i,F as h,g as w,w as j,v as f,h as u,i as c,j as l}from"./index-64a946ec.js";const g=m({data(){return{dataStore:_(),newProjectName:""}},computed:{user(){return this.dataStore.$state.user},projectsNotArchive(){return Object.values(this.dataStore.$state.user.listOfProjects).filter(t=>(console.log(t.content.status),t.content.status!=="archive"))}},methods:{changeProjectContentStatus(t,s,d){},async addCalculation(){const t=await this.dataStore.user.createNewProject(this.dataStore.CCCData,this.newProjectName);t.success&&await this.$router.push({name:"admin.project",params:{userID:this.user.userID,projectSlug:t.slugOfNewProject}})},focusToInput(){this.$refs.nameNewDocumentInput instanceof HTMLInputElement&&this.$refs.nameNewDocumentInput.focus()}}});const C={class:"v-admin-view ccc-with-gutter"},N={class:"ccc-with-gutter"},S={class:"v-admin-view__projects"},D={class:"v-admin-view__projects__item ccc-with-gutter"},I={class:"v-admin-view__projects__item__slug"},P=["onClick"],$=l("notes projet"),b=l("modifier ->"),k=o("div",null,"Nouveau Calcul",-1);function y(t,s,d,T,V,A){const r=v("router-link");return a(),n("div",C,[o("h1",N,"Mon espace: "+i(t.dataStore.user.username),1),o("div",S,[(a(!0),n(h,null,w(t.projectsNotArchive,e=>(a(),n("div",D,[o("div",I,i(e.slug),1),o("div",null,[o("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button",onClick:E=>t.changeProjectContentStatus(e,"archive",e.slug)},"archiver",8,P),u(r,{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button",to:{name:"admin.project",params:{userID:t.user.userID,projectSlug:e.slug,currentEntityName:"RÃ©sultat"}}},{default:c(()=>[$]),_:2},1032,["to"]),u(r,{class:"ccc-ui-button--small v-admin-view__projects__item__button",to:{name:"admin.project",params:{userID:t.user.userID,projectSlug:e.slug}}},{default:c(()=>[b]),_:2},1032,["to"])])]))),256)),o("form",{class:"v-admin-view__add-calculation",onClick:s[2]||(s[2]=(...e)=>t.focusToInput&&t.focusToInput(...e)),onSubmit:s[3]||(s[3]=(...e)=>t.addCalculation&&t.addCalculation(...e))},[o("div",{class:"ccc-ui-circle",onClick:s[0]||(s[0]=(...e)=>t.addCalculation&&t.addCalculation(...e))},"+"),k,j(o("input",{ref:"nameNewDocumentInput",type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>t.newProjectName=e)},null,512),[[f,t.newProjectName]])],32)])])}const M=p(g,[["render",y]]);export{M as default};
