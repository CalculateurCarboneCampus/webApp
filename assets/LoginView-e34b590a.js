import{d,u as w,_ as p,o as n,c as a,a as o,w as r,v as i,b as l,e as m,t as U,f as u}from"./index-64a946ec.js";const c=d({data(){return{password:"",mail:"",dataStore:w(),showPassword:!1,showCreateUserInterface:!1,newUserName:"",newUserMail:"",newUserPassword:"",showNewUserPassword:!1,requestResponseCreateUserSate:null}},methods:{sendDataConnection(){this.dataStore.$state.user.connection(this.mail,this.password)},closeCreateUserPanel(){this.showCreateUserInterface=!1,this.requestResponseCreateUserSate=null},async createNewCount(){this.requestResponseCreateUserSate=await this.dataStore.$state.user.sendNewUserAccount({newUserName:this.newUserName,newUserMail:this.newUserMail,newUserPassword:this.newUserPassword}),this.requestResponseCreateUserSate.status==="success"&&(this.mail=this.newUserMail,this.password=this.newUserPassword)}}});const v={class:"v-login-view"},f=o("h2",null,"Connexion",-1),C=o("h1",null,"Identifiez-vous pour accéder à vos projets",-1),h={class:"v-login-view__form"},y={class:"v-login-view__form__fieldset"},_=["type"],P={key:0,class:"v-login-view__create-user"},b={class:"v-login-view__form__fieldset"},g=["type"],N={key:0,class:"v-login-view__create-user__message"};function k(e,s,S,M,V,$){return n(),a("div",v,[f,C,o("p",{style:{"text-decoration":"underline","user-select":"none",cursor:"pointer"},onClick:s[0]||(s[0]=t=>e.showCreateUserInterface=!0)},"ou créez un compte ->"),o("form",h,[r(o("input",{class:"v-login-view__form__input",type:"text",placeholder:"adresse mail",name:"mail","onUpdate:modelValue":s[1]||(s[1]=t=>e.mail=t)},null,512),[[i,e.mail]]),o("fieldset",y,[r(o("input",{class:"v-login-view__form__input",type:e.showPassword?"":"password",placeholder:"mot de passe",name:"password","onUpdate:modelValue":s[2]||(s[2]=t=>e.password=t)},null,8,_),[[l,e.password]]),o("button",{class:"ccc-ui-button ccc-ui-button--alternate",type:"button",onClick:s[3]||(s[3]=t=>e.showPassword=!e.showPassword)},"afficher le mot de passe")]),o("button",{class:"ccc-ui-button",type:"button",onClick:s[4]||(s[4]=(...t)=>e.sendDataConnection&&e.sendDataConnection(...t))},"connexion")]),e.showCreateUserInterface?(n(),a("div",P,[o("div",{class:"v-login-view__create-user__cache",onClick:s[5]||(s[5]=m((...t)=>e.closeCreateUserPanel&&e.closeCreateUserPanel(...t),["stop"]))}),o("form",null,[r(o("input",{class:"v-login-view__form__input",type:"text",placeholder:"nom",name:"newUserName","onUpdate:modelValue":s[6]||(s[6]=t=>e.newUserName=t)},null,512),[[i,e.newUserName]]),r(o("input",{class:"v-login-view__form__input",type:"text",placeholder:"adresse mail",name:"newUserMail","onUpdate:modelValue":s[7]||(s[7]=t=>e.newUserMail=t)},null,512),[[i,e.newUserMail]]),o("fieldset",b,[r(o("input",{class:"v-login-view__form__input",type:e.showNewUserPassword?"":"password",placeholder:"mot de passe",name:"newUserPassword","onUpdate:modelValue":s[8]||(s[8]=t=>e.newUserPassword=t)},null,8,g),[[l,e.newUserPassword]]),o("button",{class:"ccc-ui-button ccc-ui-button--alternate",type:"button",onClick:s[9]||(s[9]=t=>e.showNewUserPassword=!e.showNewUserPassword)},"afficher le mot de passe")]),e.requestResponseCreateUserSate?(n(),a("div",N,[o("p",null,U(e.requestResponseCreateUserSate.message),1)])):u("",!0),e.requestResponseCreateUserSate&&e.requestResponseCreateUserSate.status==="success"?(n(),a("button",{key:1,class:"ccc-ui-button",type:"button",onClick:s[10]||(s[10]=(...t)=>e.closeCreateUserPanel&&e.closeCreateUserPanel(...t))},"se connecter ->")):(n(),a("button",{key:2,class:"ccc-ui-button",type:"button",onClick:s[11]||(s[11]=(...t)=>e.createNewCount&&e.createNewCount(...t))},"créer le compte"))])])):u("",!0)])}const R=p(c,[["render",k]]);export{R as default};
