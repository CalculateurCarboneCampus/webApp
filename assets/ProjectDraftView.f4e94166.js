import{d as $,u as I,_ as E,o as u,c as d,a as i,t as m,i as b,h as P,T as Y,j as f,e as w,w as Z,v as tt,k as et,n as nt,r as y,F as v,f as S,g as T,A as rt,l as at,m as st,p as A,q as it}from"./index.35230520.js";var ot="/webApp/assets/cafe.dca14448.svg",ct="/webApp/assets/fabrication_smartphone.03c174fb.svg",lt="/webApp/assets/avion.1299a574.svg",ut="/webApp/assets/suisse.dbe8e4cb.svg";const dt=$({data(){return{dataStore:I(),flyValue:1}},computed:{totalValue(){return this.dataStore.totalValue}}}),ht={class:"v-render"},mt=i("div",{class:"v-render__header ccc-with-gutter ccc-no-margin ccc-with-raw"},[i("h4",null,"\xC9missions de CO2 du projet")],-1),pt={class:"v-render__body ccc-with-gutter ccc-no-margin ccc-with-raw"},ft={class:"v-render__result-value"},_t={class:"v-render__icon"},vt={key:0,alt:"render icon fly",src:ot},gt={key:1,alt:"render icon fly",src:ct},wt={key:2,alt:"render icon fly",src:lt},yt={key:3,alt:"render icon fly",src:ut},St={key:0,class:"v-render__footer ccc-with-gutter ccc-no-margin ccc-with-raw"},$t=i("br",null,null,-1),Et=w("correspond \xE0 environs "),bt=i("br",null,null,-1);function Ct(t,e,r,n,a,s){return u(),d("div",ht,[mt,i("div",pt,[i("p",ft,m(t.totalValue.toFixed(4).replace(".",","))+" tCO2e",1),i("div",_t,[t.dataStore.valueEquivalent?(u(),b(Y,{key:0,name:"horizontal"},{default:P(()=>[t.dataStore.valueEquivalent.name==="coffee"?(u(),d("img",vt)):t.dataStore.valueEquivalent.name==="smartphone"?(u(),d("img",gt)):t.dataStore.valueEquivalent.name==="airplane"?(u(),d("img",wt)):t.dataStore.valueEquivalent.name==="resident"?(u(),d("img",yt)):f("",!0)]),_:1})):f("",!0)])]),t.dataStore.valueEquivalent?(u(),d("div",St,[i("p",null,[i("i",null,[w(m(t.totalValue.toFixed(4).replace(".",","))+" tonnes de CO2 \xE9mis ",1),$t,Et,bt,i("strong",null,m(Math.round(t.totalValue/t.dataStore.valueEquivalent.unitValue))+" "+m(t.dataStore.valueEquivalent.sentence),1)])])])):f("",!0)])}var It=E(dt,[["render",Ct]]);const xt=$({props:{index:{required:!0,type:Number},parentSectionIndex:{required:!0,type:Number}},data(){return{dataStore:I(),dataItem:null,valueMin:0,valueMax:9999,valueStep:1}},mounted(){if(!this.dataStore.user.tempCurrentEditedProject)return;const t=this.dataStore.user.tempCurrentEditedProject.indexOf(this.dataStore.user.tempCurrentEditedProject.filter(e=>e.entityName===this.dataStore.currentEntityName)[0]||null);this.dataItem=this.dataStore.user.tempCurrentEditedProject[t].entitySections[this.parentSectionIndex].item[this.index]},methods:{changeValue(t){t>0?this.dataItemDonnes++:this.dataItemDonnes--},removeItem(){this.dataItem.edited=!1}},computed:{dataItemDonnes:{get(){var t;return((t=this.dataItem)==null?void 0:t.donnes)||0},set(t){console.log(t),this.dataItem!==null&&(this.dataItem.donnes=0,t=+t,Number.isNaN(t)&&(t=0),t>this.valueMax&&(t=this.valueMax),t<this.valueMin&&(t=this.valueMin),this.dataItem.donnes=t)}}}}),Rt={key:0,class:"v-app-data-view-item"},Pt=i("div",{class:"v-app-data-view-item__choice-box__ui ccc-ui-circle"},"-",-1),Tt={class:"v-app-data-view-item__choice-box__value"},kt={class:"v-app-data-view-item__element v-app-data-view-item__element--value ccc-with-gutter"},jt={class:"v-app-data-view-item__element__value"},Dt=["min","max","step"],Ot={class:"v-app-data-view-item__element__value__ui-box"},At={class:"v-app-data-view-item__element__unit ccc-with-gutter"},Lt={class:"v-app-data-view-item__element ccc-with-gutter"},Vt={class:"v-app-data-view-item__element__value has-not-interaction ccc-with-gutter"},Ft=i("div",{class:"v-app-data-view-item__element__unit ccc-with-gutter"}," kgCO2e ",-1);function Mt(t,e,r,n,a,s){return t.dataItem!==null?(u(),d("div",Rt,[i("div",{class:"v-app-data-view-item__choice-box ccc-with-gutter",onClick:e[0]||(e[0]=(...o)=>t.removeItem&&t.removeItem(...o))},[Pt,i("div",Tt,m(t.dataItem.name),1)]),i("div",kt,[i("div",jt,[Z(i("input",{class:"v-app-data-view-item__element__value__input",type:"number",min:t.valueMin,max:t.valueMax,step:t.valueStep,"onUpdate:modelValue":e[1]||(e[1]=o=>t.dataItemDonnes=o)},null,8,Dt),[[tt,t.dataItemDonnes]]),i("div",Ot,[i("div",{class:"v-app-data-view-item__element__value__ui-box__ui",onClick:e[2]||(e[2]=o=>t.changeValue(1))},"+"),i("div",{class:"v-app-data-view-item__element__value__ui-box__ui",onClick:e[3]||(e[3]=o=>t.changeValue(-1))},"-")])]),i("div",At,m(t.dataItem.unit),1)]),i("div",Lt,[i("div",Vt,m(t.dataItem.tco2e.toString().replace(".",",")),1),Ft])])):f("",!0)}var Ut=E(xt,[["render",Mt]]);const Nt=$({props:{icon:{default:"+",type:String},isAlternate:{type:Boolean,default:!1}}}),qt={class:"v-button-add__ui"};function Ht(t,e,r,n,a,s){return u(),d("div",{class:nt(["v-button-add ccc-with-gutter",{"is-alternate":t.isAlternate}])},[i("div",qt,m(t.icon),1),et(t.$slots,"default")],2)}var Bt=E(Nt,[["render",Ht]]);const Wt=$({components:{ButtonAdd:Bt,AppDataViewItem:Ut},data(){return{dataStore:I(),showItem:!0,showAddNewItemList:!1}},props:{index:{required:!0,type:Number}},computed:{dataSection(){var e;if(!this.dataStore.user.tempCurrentEditedProject)return null;const t=this.dataStore.user.tempCurrentEditedProject.indexOf(this.dataStore.user.tempCurrentEditedProject.filter(r=>r.entityName===this.dataStore.currentEntityName)[0]||null);return((e=this.dataStore.user.tempCurrentEditedProject[t])==null?void 0:e.entitySections[this.index])||null},arrayOfItemInDataSection(){var t;return((t=this.dataSection)==null?void 0:t.item)||[]},arrayOfUneditedItemInDataSection(){var t;return((t=this.dataSection)==null?void 0:t.item.filter(e=>!e.edited))||[]}},watch:{arrayOfItemInDataSection(){this.showItem=!1,window.setTimeout(()=>{this.showItem=!0},50)}}}),zt={class:"v-app-data-view ccc-with-gutter-xl ccc-with-raw"},Jt={key:0,class:"v-app-data-view__section ccc-no-margin"},Gt={class:"ccc-with-gutter ccc-no-margin"},Xt={class:"v-app-data-view__section__title ccc-with-gutter"},Kt=i("div",null,"Facteurs d'\xE9missions",-1),Qt={key:1,class:"ccc-with-gutter v-app-data-view__listItemToAdd"},Yt=w("Nouvelle entr\xE9e"),Zt={key:0,class:"v-app-data-view__listItemToAdd__item"};function te(t,e,r,n,a,s){const o=y("app-data-view-item"),c=y("button-add");return u(),d("div",zt,[t.dataSection?(u(),d("div",Jt,[i("div",Gt,[i("h4",Xt,m(t.dataSection.name),1)]),Kt,t.showItem?(u(!0),d(v,{key:0},S(t.arrayOfItemInDataSection,(l,h)=>(u(),d(v,null,[l.edited?(u(),b(o,{key:0,index:h,"parent-section-index":t.index},null,8,["index","parent-section-index"])):f("",!0)],64))),256)):f("",!0),t.showItem&&t.arrayOfUneditedItemInDataSection.length>0?(u(),d("div",Qt,[T(c,{onClick:e[0]||(e[0]=l=>t.showAddNewItemList=!t.showAddNewItemList)},{default:P(()=>[Yt]),_:1}),t.showAddNewItemList?(u(),d("div",Zt,[(u(!0),d(v,null,S(t.arrayOfUneditedItemInDataSection,l=>(u(),b(c,{"is-alternate":!0,onClick:h=>{l.edited=!0,t.showAddNewItemList=!1}},{default:P(()=>[w(m(l.name),1)]),_:2},1032,["onClick"]))),256))])):f("",!0)])):f("",!0)])):f("",!0)])}var ee=E(Wt,[["render",te]]);const L="application/font-woff",V="image/jpeg",ne={woff:L,woff2:L,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:V,jpeg:V,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function re(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function j(t){const e=re(t).toLowerCase();return ne[e]||""}function ae(t){return t.split(/,/)[1]}function k(t){return t.search(/^(data:)/)!==-1}function H(t,e){return`data:${e};base64,${t}`}async function B(t,e,r){const n=await fetch(t,e);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((s,o)=>{const c=new FileReader;c.onerror=o,c.onloadend=()=>{try{s(r({res:n,result:c.result}))}catch(l){o(l)}},c.readAsDataURL(a)})}const R={};function se(t,e,r){let n=t.replace(/\?.*/,"");return r&&(n=t),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),e?`[${e}]${n}`:n}async function D(t,e,r){const n=se(t,e,r.includeQueryParams);if(R[n]!=null)return R[n];r.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let a;try{const s=await B(t,r.fetchRequestInit,({res:o,result:c})=>(e||(e=o.headers.get("Content-Type")||""),ae(c)));a=H(s,e)}catch(s){a=r.imagePlaceholder||"";let o=`Failed to fetch resource: ${t}`;s&&(o=typeof s=="string"?s:s.message),o&&console.warn(o)}return R[n]=a,a}function ie(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),e&&(n.href=e),a.href=t,a.href}const oe=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function g(t){const e=[];for(let r=0,n=t.length;r<n;r++)e.push(t[r]);return e}function C(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function ce(t){const e=C(t,"border-left-width"),r=C(t,"border-right-width");return t.clientWidth+e+r}function le(t){const e=C(t,"border-top-width"),r=C(t,"border-bottom-width");return t.clientHeight+e+r}function W(t,e={}){const r=e.width||ce(t),n=e.height||le(t);return{width:r,height:n}}function ue(){let t,e;try{e=process}catch{}const r=e&&e.env?e.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const p=16384;function de(t){(t.width>p||t.height>p)&&(t.width>p&&t.height>p?t.width>t.height?(t.height*=p/t.width,t.width=p):(t.width*=p/t.height,t.height=p):t.width>p?(t.height*=p/t.width,t.width=p):(t.width*=p/t.height,t.height=p))}function O(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=r,n.crossOrigin="anonymous",n.decoding="sync",n.src=t})}async function he(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function me(t,e,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${e}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${e} ${r}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(t),he(a)}function pe(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function fe(t){return g(t).map(e=>{const r=t.getPropertyValue(e),n=t.getPropertyPriority(e);return`${e}: ${r}${n?" !important":""};`}).join(" ")}function _e(t,e,r){const n=`.${t}:${e}`,a=r.cssText?pe(r):fe(r);return document.createTextNode(`${n}{${a}}`)}function F(t,e,r){const n=window.getComputedStyle(t,r),a=n.getPropertyValue("content");if(a===""||a==="none")return;const s=oe();try{e.className=`${e.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(_e(s,r,n)),e.appendChild(o)}function ve(t,e){F(t,e,":before"),F(t,e,":after")}async function ge(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):O(e)}async function we(t,e){const r=t.poster,n=j(r),a=await D(r,n,e);return O(a)}async function ye(t,e){return t instanceof HTMLCanvasElement?ge(t):t instanceof HTMLVideoElement&&t.poster?we(t,e):t.cloneNode(!1)}const Se=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";async function $e(t,e,r){var n;const a=Se(t)&&t.assignedNodes?g(t.assignedNodes()):g(((n=t.shadowRoot)!==null&&n!==void 0?n:t).childNodes);return a.length===0||t instanceof HTMLVideoElement||await a.reduce((s,o)=>s.then(()=>z(o,r)).then(c=>{c&&e.appendChild(c)}),Promise.resolve()),e}function Ee(t,e){const r=e.style;if(!r)return;const n=window.getComputedStyle(t);n.cssText?(r.cssText=n.cssText,r.transformOrigin=n.transformOrigin):g(n).forEach(a=>{let s=n.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),r.setProperty(a,s,n.getPropertyPriority(a))})}function be(t,e){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function Ce(t,e){if(t instanceof HTMLSelectElement){const r=e,n=Array.from(r.children).find(a=>t.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function Ie(t,e){return e instanceof Element&&(Ee(t,e),ve(t,e),be(t,e),Ce(t,e)),e}async function z(t,e,r){return!r&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(n=>ye(n,e)).then(n=>$e(t,n,e)).then(n=>Ie(t,n))}const J=/url\((['"]?)([^'"]+?)\1\)/g,xe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Re=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Pe(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function Te(t){const e=[];return t.replace(J,(r,n,a)=>(e.push(a),r)),e.filter(r=>!k(r))}async function ke(t,e,r,n,a){try{const s=r?ie(e,r):e,o=j(e);let c;if(a){const l=await a(s);c=H(l,o)}else c=await D(s,o,n);return t.replace(Pe(e),`$1${c}$3`)}catch{}return t}function je(t,{preferredFontFormat:e}){return e?t.replace(Re,r=>{for(;;){const[n,,a]=xe.exec(r)||[];if(!a)return"";if(a===e)return`src: ${n};`}}):t}function G(t){return t.search(J)!==-1}async function X(t,e,r){if(!G(t))return t;const n=je(t,r);return Te(n).reduce((s,o)=>s.then(c=>ke(c,o,e,r)),Promise.resolve(n))}async function De(t,e){var r;const n=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue("background");if(n){const a=await X(n,null,e);t.style.setProperty("background",a,t.style.getPropertyPriority("background"))}}async function Oe(t,e){if(!(t instanceof HTMLImageElement&&!k(t.src))&&!(t instanceof SVGImageElement&&!k(t.href.baseVal)))return;const r=t instanceof HTMLImageElement?t.src:t.href.baseVal,n=await D(r,j(r),e);await new Promise((a,s)=>{t.onload=a,t.onerror=s,t instanceof HTMLImageElement?(t.srcset="",t.src=n):t.href.baseVal=n})}async function Ae(t,e){const n=g(t.childNodes).map(a=>K(a,e));await Promise.all(n).then(()=>t)}async function K(t,e){t instanceof Element&&(await De(t,e),await Oe(t,e),await Ae(t,e))}function Le(t,e){const{style:r}=t;e.backgroundColor&&(r.backgroundColor=e.backgroundColor),e.width&&(r.width=`${e.width}px`),e.height&&(r.height=`${e.height}px`);const n=e.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),t}const M={};async function U(t){let e=M[t];if(e!=null)return e;const n=await(await fetch(t)).text();return e={url:t,cssText:n},M[t]=e,e}async function N(t,e){let r=t.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(r.match(/url\([^)]+\)/g)||[]).map(async o=>{let c=o.replace(n,"$1");return c.startsWith("https://")||(c=new URL(c,t.url).href),B(c,e.fetchRequestInit,({result:l})=>(r=r.replace(o,`url(${l})`),[o,l]))});return Promise.all(s).then(()=>r)}function q(t){if(t==null)return[];const e=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=t.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(n);if(l===null)break;e.push(l[0])}n=n.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(o,"gi");for(;;){let l=s.exec(n);if(l===null){if(l=c.exec(n),l===null)break;s.lastIndex=c.lastIndex}else c.lastIndex=s.lastIndex;e.push(l[0])}return e}async function Ve(t,e){const r=[],n=[];return t.forEach(a=>{if("cssRules"in a)try{g(a.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let c=o+1;const l=s.href,h=U(l).then(_=>N(_,e)).then(_=>q(_).forEach(x=>{try{a.insertRule(x,x.startsWith("@import")?c+=1:a.cssRules.length)}catch(Q){console.error("Error inserting rule from remote css",{rule:x,error:Q})}})).catch(_=>{console.error("Error loading remote css",_.toString())});n.push(h)}})}catch(s){const o=t.find(c=>c.href==null)||document.styleSheets[0];a.href!=null&&n.push(U(a.href).then(c=>N(c,e)).then(c=>q(c).forEach(l=>{o.insertRule(l,a.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c.toString())})),console.error("Error inlining remote css file",s.toString())}}),Promise.all(n).then(()=>(t.forEach(a=>{if("cssRules"in a)try{g(a.cssRules||[]).forEach(s=>{r.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s.toString())}}),r))}function Fe(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>G(e.style.getPropertyValue("src")))}async function Me(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=g(t.ownerDocument.styleSheets),n=await Ve(r,e);return Fe(n)}async function Ue(t,e){const r=await Me(t,e);return(await Promise.all(r.map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return X(a.cssText,s,e)}))).join(`
`)}async function Ne(t,e){const r=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Ue(t,e);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}}async function qe(t,e={}){const{width:r,height:n}=W(t,e),a=await z(t,e,!0);return await Ne(a,e),await K(a,e),Le(a,e),await me(a,r,n)}async function He(t,e={}){const{width:r,height:n}=W(t,e),a=await qe(t,e),s=await O(a),o=document.createElement("canvas"),c=o.getContext("2d"),l=e.pixelRatio||ue(),h=e.canvasWidth||r,_=e.canvasHeight||n;return o.width=h*l,o.height=_*l,e.skipAutoScale||de(o),o.style.width=`${h}`,o.style.height=`${_}`,e.backgroundColor&&(c.fillStyle=e.backgroundColor,c.fillRect(0,0,o.width,o.height)),c.drawImage(s,0,0,o.width,o.height),o}async function Be(t,e){return(await He(t,e)).toDataURL("image/jpeg",e.quality||1)}var We="/webApp/logo-hesso.svg";const ze=$({components:{Render:It,AppNavigation:rt,AppDataView:ee},data(){return{dataStore:I()}},mounted(){this.project!==null&&(console.log(JSON.parse(JSON.parse(this.project.content.content))),this.dataStore.user.tempCurrentEditedProject=JSON.parse(JSON.parse(this.project.content.content)))},computed:{concatResults(){if(this.dataStore.user.tempCurrentEditedProject===null)return[];const t=[];let e=0;for(const r of this.dataStore.user.tempCurrentEditedProject){const n=this.dataStore.getTotalValueOfEntity(r.entityName)*100/this.dataStore.totalValue;e+=360*n/100,console.log(n),console.log(e),t.push({concatRotationPercent:e,dataEntity:r})}return t},project(){return Object.values(this.dataStore.user.listOfProjects).find(t=>t.slug===this.$route.params.projectSlug)||null},dataSection(){var t;return this.dataStore.user.tempCurrentEditedProject===null?[]:(t=this.dataStore.user.tempCurrentEditedProject.filter(e=>e.entityName===this.dataStore.currentEntityName)[0])==null?void 0:t.entitySections},formatedDate(){const t=new Date;return`${t.getDate()}.${t.getMonth()}.${t.getFullYear()}`}},methods:{save(){this.dataStore.user.save({value:JSON.stringify(this.dataStore.user.tempCurrentEditedProject),projectName:this.$route.params.projectSlug}).then(t=>{t.success?this.dataStore.user.reloadData():this.dataStore.user.error=t.error})},exportPDF(){const t=document.querySelector(".v-result-print");Be(t,{quality:1,pixelRatio:4,style:{transform:"none"}}).then(r=>{const n=document.createElement("a");n.href=r,n.download="Calculateur_carbone_campus.jpg",n.click(),t.style.transform=""})}}}),Je={class:"v-project-draft-view"},Ge={class:"ccc-with-gutter"},Xe={class:"v-project-draft-view__data-container ccc-with-gutter"},Ke={class:"v-project-draft-view__data-container__header"},Qe={class:"v-project-draft-view__project-title"},Ye={class:"v-section-data ccc-with-raw"},Ze={class:"ccc-with-gutter"},tn={class:"v-result-viewer"},en={key:1,class:"v-result-viewer__print ccc-with-gutter"},nn={class:"v-result-viewer__print__project-title"},rn=i("div",{class:"v-result-print"},[i("h1",{contenteditable:"true",style:{padding:"4rem"}},"Titre"),i("div",{contenteditable:"true",style:{padding:"4rem","padding-top":"0"}},"text descriptif")],-1),an={class:"v-result-print"},sn=i("div",{class:"v-result-print__logo"},[i("img",{src:at,alt:""})],-1),on={class:"v-result-print__header"},cn={class:"v-result-print__project-name"},ln=i("br",null,null,-1),un={class:"v-result-print__body"},dn={class:"v-result-print__circle-result"},hn=i("div",{class:"v-result-print__circle-result__line__graphic"},null,-1),mn={class:"v-result-print__circle-result__line__name"},pn={class:"v-result-print__stat-result"},fn={class:"v-result-print__stat-result__title"},_n=i("span",null,"tCO2e",-1),vn={class:"v-result-print__stat-result__entity-box"},gn={class:"v-result-print__stat-result__entity-box__value"},wn={class:"v-result-print__stat-result__entity-box__viz"},yn=st('<div class="v-result-print__footer"><div class="ccc-with-gutter"> D\xE9velopp\xE9 par: </div><div class="ccc-with-gutter"><img alt="logo hesso" src="'+it+'"></div><div class="ccc-with-gutter"><img alt="logo hesso" src="'+We+'"></div></div>',1);function Sn(t,e,r,n,a,s){const o=y("app-navigation"),c=y("app-data-view"),l=y("render");return u(),d("div",Je,[i("div",Ge,[T(o)]),t.dataStore.currentEntityName!=="R\xE9sultat"?(u(),d(v,{key:0},[i("div",Xe,[i("div",Ke,[i("h1",Qe,m(t.$route.params.projectSlug),1),i("button",{class:"ccc-ui-button",type:"button",onClick:e[0]||(e[0]=(...h)=>t.save&&t.save(...h))},"Enregistrer")]),i("section",Ye,[(u(!0),d(v,null,S(t.dataSection,(h,_)=>(u(),b(c,{index:_},null,8,["index"]))),256))])]),i("div",Ze,[i("section",tn,[T(l)])])],64)):(u(),d("div",en,[i("div",nn,[i("h1",null,m(t.$route.params.projectSlug),1)]),i("button",{class:"ccc-ui-button v-result-viewer__print__export",onClick:e[1]||(e[1]=h=>t.exportPDF())},"export PDF"),rn,i("div",an,[sn,i("div",on,[i("div",cn,m(t.$route.params.projectSlug),1),w(" "+m(t.dataStore.user.username)+" ",1),ln,w("export\xE9 le "+m(t.formatedDate),1)]),i("div",un,[i("div",dn,[(u(!0),d(v,null,S(t.concatResults,h=>(u(),d("div",{class:"v-result-print__circle-result__line",style:A({transform:"rotate("+h.concatRotationPercent+"deg"})},[t.dataStore.getTotalValueOfEntity(h.dataEntity.entityName).toFixed(4)>0?(u(),d(v,{key:0},[hn,i("div",mn,m(h.dataEntity.entityName),1)],64)):f("",!0)],4))),256))]),i("div",pn,[i("h1",fn,[w("TOTAL: "+m(t.dataStore.totalValue.toFixed(4).replace(".",",")),1),_n]),i("div",null,[(u(!0),d(v,null,S(t.dataStore.user.tempCurrentEditedProject,h=>(u(),d("div",vn,[t.dataStore.getTotalValueOfEntity(h.entityName).toFixed(4)>0?(u(),d(v,{key:0},[i("div",gn,m(h.entityName)+": "+m(t.dataStore.getTotalValueOfEntity(h.entityName).toFixed(4).replace(".",",")),1),i("div",wn,[i("span",{style:A({width:(t.dataStore.getTotalValueOfEntity(h.entityName)*100/t.dataStore.totalValue).toFixed(4)+"%"})},null,4),i("span",null,m((t.dataStore.getTotalValueOfEntity(h.entityName)*100/t.dataStore.totalValue).toFixed(4).replace(".",","))+"%",1)])],64)):f("",!0)]))),256))])])]),yn])]))])}var En=E(ze,[["render",Sn]]);export{En as default};
