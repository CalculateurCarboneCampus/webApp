import{_ as d,d as m,u as _,r as p,o,c as n,a,t as r,F as v,g as h,w,v as j,h as u,i as c,j as l}from"./index.e2514deb.js";const f=m({data(){return{dataStore:_(),newProjectName:""}},computed:{user(){return this.dataStore.$state.user},projectsNotArchive(){return Object.values(this.dataStore.$state.user.listOfProjects).filter(t=>t.content.status!=="archive")}},methods:{changeProjectContentStatus(t,s){t.content.status=s},async addCalculation(){const t=await this.dataStore.user.createNewProject(this.dataStore.CCCData,this.newProjectName);t.success&&await this.$router.push({name:"admin.project",params:{userID:this.user.userID,projectSlug:t.slugOfNewProject}})},focusToInput(){this.$refs.nameNewDocumentInput instanceof HTMLInputElement&&this.$refs.nameNewDocumentInput.focus()}}}),g={class:"v-admin-view ccc-with-gutter"},C={class:"ccc-with-gutter"},N={class:"v-admin-view__projects"},S={class:"v-admin-view__projects__item ccc-with-gutter"},D={class:"v-admin-view__projects__item__slug"},I=["onClick"],b=a("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button"},"publier",-1),P=l("notes projet"),$=l("modifier ->"),y=a("div",null,"Nouveau Calcul",-1);function k(t,s,T,V,A,E){const i=p("router-link");return o(),n("div",g,[a("h1",C,"Mon espace: "+r(t.dataStore.user.username),1),a("div",N,[(o(!0),n(v,null,h(t.projectsNotArchive,e=>(o(),n("div",S,[a("div",D,r(e.slug),1),a("div",null,[a("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button",onClick:B=>t.changeProjectContentStatus(e,"archive")},"archiver",8,I),b,u(i,{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button",to:{name:"admin.project",params:{userID:t.user.userID,projectSlug:e.slug,currentEntityName:"R\xE9sultat"}}},{default:c(()=>[P]),_:2},1032,["to"]),u(i,{class:"ccc-ui-button--small v-admin-view__projects__item__button",to:{name:"admin.project",params:{userID:t.user.userID,projectSlug:e.slug}}},{default:c(()=>[$]),_:2},1032,["to"])])]))),256)),a("form",{class:"v-admin-view__add-calculation",onClick:s[2]||(s[2]=(...e)=>t.focusToInput&&t.focusToInput(...e)),onSubmit:s[3]||(s[3]=(...e)=>t.addCalculation&&t.addCalculation(...e))},[a("div",{class:"ccc-ui-circle",onClick:s[0]||(s[0]=(...e)=>t.addCalculation&&t.addCalculation(...e))},"+"),y,w(a("input",{ref:"nameNewDocumentInput",type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>t.newProjectName=e)},null,512),[[j,t.newProjectName]])],32)])])}var O=d(f,[["render",k]]);export{O as default};
