import{d as _,u as p,_ as v,r as h,o,c as n,a,t as c,F as w,g as f,w as j,v as g,h as l,i as d,j as m}from"./index-d906e237.js";const C=_({data(){return{dataStore:p(),newProjectName:""}},computed:{user(){return this.dataStore.$state.user},projectsNotArchive(){return Object.values(this.dataStore.$state.user.listOfProjects).filter(t=>(console.log(t.content.status),t.content.status!=="archive"))}},methods:{changeProjectContentStatus(t,s,r){const i=JSON.parse(t.content.content);this.dataStore.user.save({value:i,projectName:r})},async addCalculation(){const t=await this.dataStore.user.createNewProject(this.dataStore.CCCData,this.newProjectName);t.success&&await this.$router.push({name:"admin.project",params:{userID:this.user.userID,projectSlug:t.slugOfNewProject}})},focusToInput(){this.$refs.nameNewDocumentInput instanceof HTMLInputElement&&this.$refs.nameNewDocumentInput.focus()}}});const N={class:"v-admin-view ccc-with-gutter"},S={class:"ccc-with-gutter"},D={class:"v-admin-view__projects"},I={class:"v-admin-view__projects__item ccc-with-gutter"},P={class:"v-admin-view__projects__item__slug"},$=["onClick"],b=m("notes projet"),k=m("modifier ->"),y=a("div",null,"Nouveau Calcul",-1);function T(t,s,r,i,V,A){const u=h("router-link");return o(),n("div",N,[a("h1",S,"Mon espace: "+c(t.dataStore.user.username),1),a("div",D,[(o(!0),n(w,null,f(t.projectsNotArchive,e=>(o(),n("div",I,[a("div",P,c(e.slug),1),a("div",null,[a("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button",onClick:E=>t.changeProjectContentStatus(e,"archive",e.slug)},"archiver",8,$),l(u,{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button",to:{name:"admin.project",params:{userID:t.user.userID,projectSlug:e.slug,currentEntityName:"RÃ©sultat"}}},{default:d(()=>[b]),_:2},1032,["to"]),l(u,{class:"ccc-ui-button--small v-admin-view__projects__item__button",to:{name:"admin.project",params:{userID:t.user.userID,projectSlug:e.slug}}},{default:d(()=>[k]),_:2},1032,["to"])])]))),256)),a("form",{class:"v-admin-view__add-calculation",onClick:s[2]||(s[2]=(...e)=>t.focusToInput&&t.focusToInput(...e)),onSubmit:s[3]||(s[3]=(...e)=>t.addCalculation&&t.addCalculation(...e))},[a("div",{class:"ccc-ui-circle",onClick:s[0]||(s[0]=(...e)=>t.addCalculation&&t.addCalculation(...e))},"+"),y,j(a("input",{ref:"nameNewDocumentInput",type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>t.newProjectName=e)},null,512),[[g,t.newProjectName]])],32)])])}const B=v(C,[["render",T]]);export{B as default};
