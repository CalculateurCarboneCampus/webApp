import{_ as u,d as c,u as d,r as l,o,c as i,a as t,t as n,F as m,f as _,w as p,v,g as w,h,e as f}from"./index.ecc4b64d.js";const j=c({data(){return{dataStore:d(),newProjectName:""}},computed:{user(){return this.dataStore.$state.user},projects(){return this.dataStore.$state.user.listOfProjects}},methods:{async addCalculation(){const e=await this.dataStore.user.createNewProject(this.dataStore.CCCData,this.newProjectName);e.success&&await this.$router.push({name:"admin.project",params:{userID:this.user.userID,projectSlug:e.slugOfNewProject}})},focusToInput(){this.$refs.nameNewDocumentInput instanceof HTMLInputElement&&this.$refs.nameNewDocumentInput.focus()}}}),g={class:"v-admin-view ccc-with-gutter"},C={class:"ccc-with-gutter"},N={class:"v-admin-view__projects"},D={class:"v-admin-view__projects__item ccc-with-gutter"},I={class:"v-admin-view__projects__item__slug"},S=t("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button"},"supprimer",-1),b=t("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button"},"publier",-1),$=t("div",{style:{"margin-right":"1rem"},class:"ccc-ui-button--small v-admin-view__projects__item__button"},"notes projet",-1),y=f("modifier ->"),P=t("div",null,"Nouveau Calcul",-1);function k(e,a,T,V,B,M){const r=l("router-link");return o(),i("div",g,[t("h1",C,"Mon espace: "+n(e.dataStore.user.username),1),t("div",N,[(o(!0),i(m,null,_(e.projects,s=>(o(),i("div",D,[t("div",I,n(s.slug),1),t("div",null,[S,b,$,w(r,{class:"ccc-ui-button--small v-admin-view__projects__item__button",to:{name:"admin.project",params:{userID:e.user.userID,projectSlug:s.slug}}},{default:h(()=>[y]),_:2},1032,["to"])])]))),256)),t("form",{class:"v-admin-view__add-calculation",onClick:a[2]||(a[2]=(...s)=>e.focusToInput&&e.focusToInput(...s)),onSubmit:a[3]||(a[3]=(...s)=>e.addCalculation&&e.addCalculation(...s))},[t("div",{class:"ccc-ui-circle",onClick:a[0]||(a[0]=(...s)=>e.addCalculation&&e.addCalculation(...s))},"+"),P,p(t("input",{ref:"nameNewDocumentInput",type:"text","onUpdate:modelValue":a[1]||(a[1]=s=>e.newProjectName=s)},null,512),[[v,e.newProjectName]])],32)])])}var E=u(j,[["render",k]]);export{E as default};
