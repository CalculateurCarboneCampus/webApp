import{d as $,u as I,_ as b,o as u,c as d,a as i,t as h,i as E,g as P,T as Y,j as f,h as w,w as Z,v as tt,k as et,n as rt,r as y,F as g,e as S,f as T,A as nt,l as at,m as st,p as A,q as it,s as ot}from"./index.58dea3d2.js";var ct="/webApp/assets/cafe.dca14448.svg",lt="/webApp/assets/fabrication_smartphone.03c174fb.svg",ut="/webApp/assets/avion.1299a574.svg",dt="/webApp/assets/suisse.dbe8e4cb.svg";const ht=$({data(){return{dataStore:I(),flyValue:1}},computed:{totalValue(){return this.dataStore.totalValue}}}),mt={class:"v-render"},pt=i("div",{class:"v-render__header ccc-with-gutter ccc-no-margin ccc-with-raw"},[i("h4",null,"\xC9mission de CO2 du projet")],-1),_t={class:"v-render__body ccc-with-gutter ccc-no-margin ccc-with-raw"},ft={class:"v-render__result-value"},vt={class:"v-render__icon"},gt={key:0,alt:"render icon fly",src:ct},wt={key:1,alt:"render icon fly",src:lt},yt={key:2,alt:"render icon fly",src:ut},St={key:3,alt:"render icon fly",src:dt},$t={key:0,class:"v-render__footer ccc-with-gutter ccc-no-margin ccc-with-raw"},bt=i("br",null,null,-1),Et=w("correspond \xE0 environs "),Ct=i("br",null,null,-1);function It(t,e,n,r,a,s){return u(),d("div",mt,[pt,i("div",_t,[i("p",ft,h(t.totalValue.toFixed(3))+" tCO2e",1),i("div",vt,[t.dataStore.valueEquivalent?(u(),E(Y,{key:0,name:"horizontal"},{default:P(()=>[t.dataStore.valueEquivalent.name==="coffee"?(u(),d("img",gt)):t.dataStore.valueEquivalent.name==="smartphone"?(u(),d("img",wt)):t.dataStore.valueEquivalent.name==="airplane"?(u(),d("img",yt)):t.dataStore.valueEquivalent.name==="resident"?(u(),d("img",St)):f("",!0)]),_:1})):f("",!0)])]),t.dataStore.valueEquivalent?(u(),d("div",$t,[i("p",null,[i("i",null,[w(h(t.totalValue)+" tonnes de CO2 \xE9mis ",1),bt,Et,Ct,i("strong",null,h(Math.round(t.totalValue/t.dataStore.valueEquivalent.unitValue))+" "+h(t.dataStore.valueEquivalent.sentence),1)])])])):f("",!0)])}var xt=b(ht,[["render",It]]);const Rt=$({props:{index:{required:!0,type:Number},parentSectionIndex:{required:!0,type:Number}},data(){return{dataStore:I(),dataItem:null,valueMin:0,valueMax:9999,valueStep:1}},mounted(){if(!this.dataStore.user.tempCurrentEditedProject)return;const t=this.dataStore.user.tempCurrentEditedProject.indexOf(this.dataStore.user.tempCurrentEditedProject.filter(e=>e.entityName===this.dataStore.currentEntityName)[0]||null);this.dataItem=this.dataStore.user.tempCurrentEditedProject[t].entitySections[this.parentSectionIndex].item[this.index]},methods:{changeValue(t){t>0?this.dataItemDonnes++:this.dataItemDonnes--},removeItem(){this.dataItem.edited=!1}},computed:{dataItemDonnes:{get(){var t;return((t=this.dataItem)==null?void 0:t.donnes)||0},set(t){console.log(t),this.dataItem!==null&&(this.dataItem.donnes=0,t=+t,Number.isNaN(t)&&(t=0),t>this.valueMax&&(t=this.valueMax),t<this.valueMin&&(t=this.valueMin),this.dataItem.donnes=t)}}}}),Pt={key:0,class:"v-app-data-view-item"},Tt=i("div",{class:"v-app-data-view-item__choice-box__ui ccc-ui-circle"},"-",-1),jt={class:"v-app-data-view-item__choice-box__value"},kt={class:"v-app-data-view-item__element v-app-data-view-item__element--value ccc-with-gutter"},Dt={class:"v-app-data-view-item__element__value"},Ot=["min","max","step"],At={class:"v-app-data-view-item__element__value__ui-box"},Lt={class:"v-app-data-view-item__element__unit ccc-with-gutter"},Vt={class:"v-app-data-view-item__element ccc-with-gutter"},Ft={class:"v-app-data-view-item__element__value has-not-interaction ccc-with-gutter"},Mt=i("div",{class:"v-app-data-view-item__element__unit ccc-with-gutter"}," tCO2e ",-1);function Ut(t,e,n,r,a,s){return t.dataItem!==null?(u(),d("div",Pt,[i("div",{class:"v-app-data-view-item__choice-box ccc-with-gutter",onClick:e[0]||(e[0]=(...o)=>t.removeItem&&t.removeItem(...o))},[Tt,i("div",jt,h(t.dataItem.name),1)]),i("div",kt,[i("div",Dt,[Z(i("input",{class:"v-app-data-view-item__element__value__input",type:"number",min:t.valueMin,max:t.valueMax,step:t.valueStep,"onUpdate:modelValue":e[1]||(e[1]=o=>t.dataItemDonnes=o)},null,8,Ot),[[tt,t.dataItemDonnes]]),i("div",At,[i("div",{class:"v-app-data-view-item__element__value__ui-box__ui",onClick:e[2]||(e[2]=o=>t.changeValue(1))},"+"),i("div",{class:"v-app-data-view-item__element__value__ui-box__ui",onClick:e[3]||(e[3]=o=>t.changeValue(-1))},"-")])]),i("div",Lt,h(t.dataItem.unit),1)]),i("div",Vt,[i("div",Ft,h(t.dataItem.tco2e),1),Mt])])):f("",!0)}var qt=b(Rt,[["render",Ut]]);const Nt=$({props:{icon:{default:"+",type:String},isAlternate:{type:Boolean,default:!1}}}),Ht={class:"v-button-add__ui"};function Bt(t,e,n,r,a,s){return u(),d("div",{class:rt(["v-button-add ccc-with-gutter",{"is-alternate":t.isAlternate}])},[i("div",Ht,h(t.icon),1),et(t.$slots,"default")],2)}var Wt=b(Nt,[["render",Bt]]);const zt=$({components:{ButtonAdd:Wt,AppDataViewItem:qt},data(){return{dataStore:I(),showItem:!0,showAddNewItemList:!1}},props:{index:{required:!0,type:Number}},computed:{dataSection(){var e;if(!this.dataStore.user.tempCurrentEditedProject)return null;const t=this.dataStore.user.tempCurrentEditedProject.indexOf(this.dataStore.user.tempCurrentEditedProject.filter(n=>n.entityName===this.dataStore.currentEntityName)[0]||null);return((e=this.dataStore.user.tempCurrentEditedProject[t])==null?void 0:e.entitySections[this.index])||null},arrayOfItemInDataSection(){var t;return((t=this.dataSection)==null?void 0:t.item)||[]},arrayOfUneditedItemInDataSection(){var t;return((t=this.dataSection)==null?void 0:t.item.filter(e=>!e.edited))||[]}},watch:{arrayOfItemInDataSection(){this.showItem=!1,window.setTimeout(()=>{this.showItem=!0},50)}}}),Jt={class:"v-app-data-view ccc-with-gutter-xl ccc-with-raw"},Gt={key:0,class:"v-app-data-view__section ccc-no-margin"},Xt={class:"ccc-with-gutter ccc-no-margin"},Kt={class:"v-app-data-view__section__title ccc-with-gutter"},Qt={key:1,class:"ccc-with-gutter v-app-data-view__listItemToAdd"},Yt=w("Nouvelle entr\xE9e"),Zt={key:0,class:"v-app-data-view__listItemToAdd__item"};function te(t,e,n,r,a,s){const o=y("app-data-view-item"),c=y("button-add");return u(),d("div",Jt,[t.dataSection?(u(),d("div",Gt,[i("div",Xt,[i("h4",Kt,h(t.dataSection.name),1)]),t.showItem?(u(!0),d(g,{key:0},S(t.arrayOfItemInDataSection,(l,m)=>(u(),d(g,null,[l.edited?(u(),E(o,{key:0,index:m,"parent-section-index":t.index},null,8,["index","parent-section-index"])):f("",!0)],64))),256)):f("",!0),t.showItem&&t.arrayOfUneditedItemInDataSection.length>0?(u(),d("div",Qt,[T(c,{onClick:e[0]||(e[0]=l=>t.showAddNewItemList=!t.showAddNewItemList)},{default:P(()=>[Yt]),_:1}),t.showAddNewItemList?(u(),d("div",Zt,[(u(!0),d(g,null,S(t.arrayOfUneditedItemInDataSection,l=>(u(),E(c,{"is-alternate":!0,onClick:m=>{l.edited=!0,t.showAddNewItemList=!1}},{default:P(()=>[w(h(l.name),1)]),_:2},1032,["onClick"]))),256))])):f("",!0)])):f("",!0)])):f("",!0)])}var ee=b(zt,[["render",te]]);const L="application/font-woff",V="image/jpeg",re={woff:L,woff2:L,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:V,jpeg:V,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function ne(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function k(t){const e=ne(t).toLowerCase();return re[e]||""}function ae(t){return t.split(/,/)[1]}function j(t){return t.search(/^(data:)/)!==-1}function H(t,e){return`data:${e};base64,${t}`}async function B(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((s,o)=>{const c=new FileReader;c.onerror=o,c.onloadend=()=>{try{s(n({res:r,result:c.result}))}catch(l){o(l)}},c.readAsDataURL(a)})}const R={};function se(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function D(t,e,n){const r=se(t,e,n.includeQueryParams);if(R[r]!=null)return R[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let a;try{const s=await B(t,n.fetchRequestInit,({res:o,result:c})=>(e||(e=o.headers.get("Content-Type")||""),ae(c)));a=H(s,e)}catch(s){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${t}`;s&&(o=typeof s=="string"?s:s.message),o&&console.warn(o)}return R[r]=a,a}function ie(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),e&&(r.href=e),a.href=t,a.href}const oe=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function v(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function C(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function ce(t){const e=C(t,"border-left-width"),n=C(t,"border-right-width");return t.clientWidth+e+n}function le(t){const e=C(t,"border-top-width"),n=C(t,"border-bottom-width");return t.clientHeight+e+n}function W(t,e={}){const n=e.width||ce(t),r=e.height||le(t);return{width:n,height:r}}function ue(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const p=16384;function de(t){(t.width>p||t.height>p)&&(t.width>p&&t.height>p?t.width>t.height?(t.height*=p/t.width,t.width=p):(t.width*=p/t.height,t.height=p):t.width>p?(t.height*=p/t.width,t.width=p):(t.width*=p/t.height,t.height=p))}function O(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="sync",r.src=t})}async function he(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function me(t,e,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${e}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(t),he(a)}function pe(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function _e(t){return v(t).map(e=>{const n=t.getPropertyValue(e),r=t.getPropertyPriority(e);return`${e}: ${n}${r?" !important":""};`}).join(" ")}function fe(t,e,n){const r=`.${t}:${e}`,a=n.cssText?pe(n):_e(n);return document.createTextNode(`${r}{${a}}`)}function F(t,e,n){const r=window.getComputedStyle(t,n),a=r.getPropertyValue("content");if(a===""||a==="none")return;const s=oe();try{e.className=`${e.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(fe(s,n,r)),e.appendChild(o)}function ve(t,e){F(t,e,":before"),F(t,e,":after")}async function ge(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):O(e)}async function we(t,e){const n=t.poster,r=k(n),a=await D(n,r,e);return O(a)}async function ye(t,e){return t instanceof HTMLCanvasElement?ge(t):t instanceof HTMLVideoElement&&t.poster?we(t,e):t.cloneNode(!1)}const Se=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";async function $e(t,e,n){var r;const a=Se(t)&&t.assignedNodes?v(t.assignedNodes()):v(((r=t.shadowRoot)!==null&&r!==void 0?r:t).childNodes);return a.length===0||t instanceof HTMLVideoElement||await a.reduce((s,o)=>s.then(()=>z(o,n)).then(c=>{c&&e.appendChild(c)}),Promise.resolve()),e}function be(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):v(r).forEach(a=>{let s=r.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),n.setProperty(a,s,r.getPropertyPriority(a))})}function Ee(t,e){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function Ce(t,e){if(t instanceof HTMLSelectElement){const n=e,r=Array.from(n.children).find(a=>t.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function Ie(t,e){return e instanceof Element&&(be(t,e),ve(t,e),Ee(t,e),Ce(t,e)),e}async function z(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>ye(r,e)).then(r=>$e(t,r,e)).then(r=>Ie(t,r))}const J=/url\((['"]?)([^'"]+?)\1\)/g,xe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Re=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Pe(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function Te(t){const e=[];return t.replace(J,(n,r,a)=>(e.push(a),n)),e.filter(n=>!j(n))}async function je(t,e,n,r,a){try{const s=n?ie(e,n):e,o=k(e);let c;if(a){const l=await a(s);c=H(l,o)}else c=await D(s,o,r);return t.replace(Pe(e),`$1${c}$3`)}catch{}return t}function ke(t,{preferredFontFormat:e}){return e?t.replace(Re,n=>{for(;;){const[r,,a]=xe.exec(n)||[];if(!a)return"";if(a===e)return`src: ${r};`}}):t}function G(t){return t.search(J)!==-1}async function X(t,e,n){if(!G(t))return t;const r=ke(t,n);return Te(r).reduce((s,o)=>s.then(c=>je(c,o,e,n)),Promise.resolve(r))}async function De(t,e){var n;const r=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue("background");if(r){const a=await X(r,null,e);t.style.setProperty("background",a,t.style.getPropertyPriority("background"))}}async function Oe(t,e){if(!(t instanceof HTMLImageElement&&!j(t.src))&&!(t instanceof SVGImageElement&&!j(t.href.baseVal)))return;const n=t instanceof HTMLImageElement?t.src:t.href.baseVal,r=await D(n,k(n),e);await new Promise((a,s)=>{t.onload=a,t.onerror=s,t instanceof HTMLImageElement?(t.srcset="",t.src=r):t.href.baseVal=r})}async function Ae(t,e){const r=v(t.childNodes).map(a=>K(a,e));await Promise.all(r).then(()=>t)}async function K(t,e){t instanceof Element&&(await De(t,e),await Oe(t,e),await Ae(t,e))}function Le(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),t}const M={};async function U(t){let e=M[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},M[t]=e,e}async function q(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let c=o.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,t.url).href),B(c,e.fetchRequestInit,({result:l})=>(n=n.replace(o,`url(${l})`),[o,l]))});return Promise.all(s).then(()=>n)}function N(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(o,"gi");for(;;){let l=s.exec(r);if(l===null){if(l=c.exec(r),l===null)break;s.lastIndex=c.lastIndex}else c.lastIndex=s.lastIndex;e.push(l[0])}return e}async function Ve(t,e){const n=[],r=[];return t.forEach(a=>{if("cssRules"in a)try{v(a.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let c=o+1;const l=s.href,m=U(l).then(_=>q(_,e)).then(_=>N(_).forEach(x=>{try{a.insertRule(x,x.startsWith("@import")?c+=1:a.cssRules.length)}catch(Q){console.error("Error inserting rule from remote css",{rule:x,error:Q})}})).catch(_=>{console.error("Error loading remote css",_.toString())});r.push(m)}})}catch(s){const o=t.find(c=>c.href==null)||document.styleSheets[0];a.href!=null&&r.push(U(a.href).then(c=>q(c,e)).then(c=>N(c).forEach(l=>{o.insertRule(l,a.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c.toString())})),console.error("Error inlining remote css file",s.toString())}}),Promise.all(r).then(()=>(t.forEach(a=>{if("cssRules"in a)try{v(a.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s.toString())}}),n))}function Fe(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>G(e.style.getPropertyValue("src")))}async function Me(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=v(t.ownerDocument.styleSheets),r=await Ve(n,e);return Fe(r)}async function Ue(t,e){const n=await Me(t,e);return(await Promise.all(n.map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return X(a.cssText,s,e)}))).join(`
`)}async function qe(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Ue(t,e);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function Ne(t,e={}){const{width:n,height:r}=W(t,e),a=await z(t,e,!0);return await qe(a,e),await K(a,e),Le(a,e),await me(a,n,r)}async function He(t,e={}){const{width:n,height:r}=W(t,e),a=await Ne(t,e),s=await O(a),o=document.createElement("canvas"),c=o.getContext("2d"),l=e.pixelRatio||ue(),m=e.canvasWidth||n,_=e.canvasHeight||r;return o.width=m*l,o.height=_*l,e.skipAutoScale||de(o),o.style.width=`${m}`,o.style.height=`${_}`,e.backgroundColor&&(c.fillStyle=e.backgroundColor,c.fillRect(0,0,o.width,o.height)),c.drawImage(s,0,0,o.width,o.height),o}async function Be(t,e){return(await He(t,e)).toDataURL("image/jpeg",e.quality||1)}const We=$({components:{Render:xt,AppNavigation:nt,AppDataView:ee},data(){return{dataStore:I()}},mounted(){this.project!==null&&(console.log(JSON.parse(JSON.parse(this.project.content.content))),this.dataStore.user.tempCurrentEditedProject=JSON.parse(JSON.parse(this.project.content.content)))},computed:{project(){return Object.values(this.dataStore.user.listOfProjects).find(t=>t.slug===this.$route.params.projectSlug)||null},dataSection(){var t;return this.dataStore.user.tempCurrentEditedProject===null?[]:(t=this.dataStore.user.tempCurrentEditedProject.filter(e=>e.entityName===this.dataStore.currentEntityName)[0])==null?void 0:t.entitySections},formatedDate(){const t=new Date;return`${t.getDate()}.${t.getMonth()}.${t.getFullYear()}`}},methods:{save(){this.dataStore.user.save({value:JSON.stringify(this.dataStore.user.tempCurrentEditedProject),projectName:this.$route.params.projectSlug}).then(t=>{t.success?this.dataStore.user.reloadData():this.dataStore.user.error=t.error})},exportPDF(){const t=document.querySelector(".v-result-print");Be(t,{quality:1,pixelRatio:4,style:{transform:"none"}}).then(n=>{const r=document.createElement("a");r.href=n,r.download="Calculateur_carbone_campus.jpg",r.click(),t.style.transform=""})}}}),ze={class:"v-project-draft-view"},Je={class:"ccc-with-gutter"},Ge={class:"v-project-draft-view__data-container ccc-with-gutter"},Xe={class:"v-project-draft-view__data-container__header"},Ke={class:"v-project-draft-view__project-title"},Qe={class:"v-section-data ccc-with-raw"},Ye={class:"ccc-with-gutter"},Ze={class:"v-result-viewer"},tr={key:1,class:"v-result-viewer__print ccc-with-gutter"},er={class:"v-result-viewer__print__project-title"},rr={class:"v-result-print"},nr=i("div",{class:"v-result-print__logo"},[i("img",{src:at,alt:""})],-1),ar={class:"v-result-print__header"},sr={class:"v-result-print__project-name"},ir=i("br",null,null,-1),or={class:"v-result-print__body"},cr={class:"v-result-print__circle-result"},lr=i("div",{class:"v-result-print__circle-result__line__graphic"},null,-1),ur={class:"v-result-print__circle-result__line__name"},dr={class:"v-result-print__stat-result"},hr={class:"v-result-print__stat-result__title"},mr=i("span",null,"tCO2e",-1),pr={class:"v-result-print__stat-result__entity-box"},_r={class:"v-result-print__stat-result__entity-box__value"},fr={class:"v-result-print__stat-result__entity-box__viz"},vr=st('<div class="v-result-print__footer"><div class="ccc-with-gutter"> Initi\xE9 par: </div><div class="ccc-with-gutter"><img alt="logo hesso" src="'+it+'"></div><div class="ccc-with-gutter"><img alt="logo hesso" src="'+ot+'"></div></div>',1);function gr(t,e,n,r,a,s){const o=y("app-navigation"),c=y("app-data-view"),l=y("render");return u(),d("div",ze,[i("div",Je,[T(o)]),t.dataStore.currentEntityName!=="R\xE9sultat"?(u(),d(g,{key:0},[i("div",Ge,[i("div",Xe,[i("h1",Ke,h(t.$route.params.projectSlug),1),i("button",{class:"ccc-ui-button",type:"button",onClick:e[0]||(e[0]=(...m)=>t.save&&t.save(...m))},"Enregistrer")]),i("section",Qe,[(u(!0),d(g,null,S(t.dataSection,(m,_)=>(u(),E(c,{index:_},null,8,["index"]))),256))])]),i("div",Ye,[i("section",Ze,[T(l)])])],64)):(u(),d("div",tr,[i("div",er,[i("h1",null,h(t.$route.params.projectSlug),1)]),i("button",{class:"ccc-ui-button v-result-viewer__print__export",onClick:e[1]||(e[1]=m=>t.exportPDF())},"export PDF"),i("div",rr,[nr,i("div",ar,[i("div",sr,h(t.$route.params.projectSlug),1),w(" "+h(t.dataStore.user.username)+" ",1),ir,w("export\xE9 le "+h(t.formatedDate),1)]),i("div",or,[i("div",cr,[(u(!0),d(g,null,S(t.dataStore.user.tempCurrentEditedProject,m=>(u(),d("div",{class:"v-result-print__circle-result__line",style:A({transform:"rotate("+t.dataStore.getTotalValueOfEntity(m.entityName)*100/t.dataStore.totalValue*100/360+"deg"})},[lr,i("div",ur,h(m.entityName),1)],4))),256))]),i("div",dr,[i("h1",hr,[w("TOTAL: "+h(t.dataStore.totalValue.toFixed(3)),1),mr]),i("div",null,[(u(!0),d(g,null,S(t.dataStore.user.tempCurrentEditedProject,m=>(u(),d("div",pr,[i("div",_r,h(m.entityName)+": "+h(t.dataStore.getTotalValueOfEntity(m.entityName).toFixed(3)),1),i("div",fr,[i("span",{style:A({width:(t.dataStore.getTotalValueOfEntity(m.entityName)*100/t.dataStore.totalValue).toFixed(3)+"%"})},null,4),i("span",null,h((t.dataStore.getTotalValueOfEntity(m.entityName)*100/t.dataStore.totalValue).toFixed(3))+"%",1)])]))),256))])])]),vr])]))])}var yr=b(We,[["render",gr]]);export{yr as default};
